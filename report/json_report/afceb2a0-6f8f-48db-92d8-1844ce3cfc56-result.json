{"name": "ID:test_1 -- xxx", "status": "broken", "statusDetails": {"message": "AttributeError: ❌没找到关键字 shotttttt", "trace": "self = <test_runner.TestRunner object at 0x105179820>\ncase = {'feature': 'test', 'id': 'test_1', 'is_true': True, 'steps': [{'by': None, 'data': 'file:///Users/swj_795/Desktop/%E5...: 'assert_element_exist', ...}, {'by': 'xpath', 'data': '新浪', 'index': None, 'keyword': 'assert_text', ...}, ...], ...}\ndriver_handler = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"f2e026ab58c23b1c3100217679b86849\")>\n\n    @pytest.mark.parametrize(\"case\", data)#“让这个测试函数（test_case）重复执行多次，每次传入 data 里的一个元素，命名为 case。”\n    def test_case(self, case, driver_handler):#driver_handler是pytest的fixture参数,从conftest.py来的\n    \n            # 引用全局的all\n            # all = self.all\n            #根据all的值，渲染case\n            # case = eval(Template(str(case)).render(all))\n    \n    \n            #初始化allure报告\n            allure_init(case=case)#形参=实参  参数只有一个时形参可以不写\n            # allure.dynamic.feature(case[\"feature\"])\n            # allure.dynamic.story(case[\"story\"])\n            # allure.dynamic.title(f\"ID:{case[\"id\"]} -- {case[\"title\"]}\")\n            # logging.info(f'用例ID：{case[\"id\"]} 模块：{case[\"feature\"]} 场景：{case[\"story\"]} 标题：{case[\"title\"]}')\n    \n            #创建关键字对象\n            keywords = Keywords(driver_handler)#把浏览器对象传进 Keywords 类了。关键字函数都能通过 self.driver 去控制浏览器；\n            assert_keywords = AssertKeywords(driver_handler)\n    \n            #执行每一步\n            for step in case[\"steps\"]:\n                logging.info(\n                    f\"正在执行步骤: {step['step_num']} - 关键字: {step['keyword']} - 名称: {step['step_name']}\")\n                #循环遍历查找关键字\n                for i in [keywords, assert_keywords]:\n                    #用hasattr判断关键字是否存在\n                    if hasattr(i, step['keyword']):\n                        # 匹配关键字，__getattritubute__(属性名或方法名) -> 返回一个绑定方法 对象类型的数据\n                        # 你不能写死keywords.input(step)，所以你要“根据字符串去拿对象的方法”__getattribute__()。\n                        # 结果是拿到了一个“可以调用的函数”function_name\n                        function_name = i.__getattribute__(\n                            step[\"keyword\"])  # step[\"keyword\"] 取出来就是字符串，比如 \"input\"。\n                        # print(function_name)\n                        # 执行ta\n                        function_name(step)\n                        break#break是找到了关键字，即跳出循环\n                else:#没找到关键字，报异常\n>                   raise AttributeError(f\"❌没找到关键字 {step['keyword']}\")\nE                   AttributeError: ❌没找到关键字 shotttttt\n\ntestcases/test_runner.py:60: AttributeError"}, "steps": [{"name": "第1步: 打开网址", "status": "passed", "start": 1763350303811, "stop": 1763350303918}, {"name": "第2步: 断言网址", "status": "passed", "start": 1763350303918, "stop": 1763350303928}, {"name": "第3步: 断言title", "status": "passed", "start": 1763350303928, "stop": 1763350303931}, {"name": "第4步: 断言用户名", "status": "passed", "start": 1763350303932, "stop": 1763350304133}, {"name": "第5步: 断言元素存在", "status": "passed", "start": 1763350304133, "stop": 1763350304140}, {"name": "第6步: 断言text", "status": "passed", "start": 1763350304140, "stop": 1763350304150}], "attachments": [{"name": "log", "source": "025c72b7-e65e-433e-90c8-b3820bf76bcd-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case", "value": "{'id': 'test_1', 'feature': 'test', 'story': 'XX', 'title': 'xxx', 'steps': [{'step_num': 1, 'step_name': '打开网址', 'keyword': 'open', 'by': None, 'value': None, 'data': 'file:///Users/swj_795/Desktop/%E5%8C%97%E6%A2%A6%E6%B5%8B/pagetest/%E6%B3%A8%E5%86%8C%E5%AE%9E%E4%BE%8B.html', 'index': None}, {'step_num': 2, 'step_name': '断言网址', 'keyword': 'assert_url', 'by': None, 'value': None, 'data': 'pagetest', 'index': None}, {'step_num': 3, 'step_name': '断言title', 'keyword': 'assert_title', 'by': None, 'value': None, 'data': '注册A', 'index': None}, {'step_num': 4, 'step_name': '断言用户名', 'keyword': 'input', 'by': 'xpath', 'value': '//input', 'data': 'admin', 'index': None}, {'step_num': 5, 'step_name': '断言元素存在', 'keyword': 'assert_element_exist', 'by': 'xpath', 'value': \"//a[.='新浪']\", 'data': None, 'index': None}, {'step_num': 6, 'step_name': '断言text', 'keyword': 'assert_text', 'by': 'xpath', 'value': \"//a[.='新浪']\", 'data': '新浪', 'index': None}, {'step_num': 9, 'step_name': '截图', 'keyword': 'shotttttt', 'by': None, 'value': None, 'data': None, 'index': None}, {'step_num': 10, 'step_name': '等待', 'keyword': 'wait', 'by': None, 'value': None, 'data': 5, 'index': None}], 'is_true': True}"}], "start": 1763350303810, "stop": 1763350304150, "uuid": "7393bcfc-f069-48d1-abdb-578710aaf08f", "historyId": "6d027c4e963d11368bc376de3ca65bd8", "testCaseId": "f4c9a5433c9d0f70aa3669f0895ebca2", "fullName": "testcases.test_runner.TestRunner#test_case", "labels": [{"name": "feature", "value": "test"}, {"name": "story", "value": "XX"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_runner"}, {"name": "subSuite", "value": "TestRunner"}, {"name": "host", "value": "WenjideMacBook-Pro.local"}, {"name": "thread", "value": "12697-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_runner"}], "titlePath": ["testcases", "test_runner.py", "TestRunner"]}